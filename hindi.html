<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Hindi Series Vault</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    body {
      font-family: sans-serif;
      background: #111;
      color: #fff;
      margin: 0;
      padding: 0 1rem 3rem;
      scroll-behavior: smooth;
    }
    h1 {
      text-align: center;
      color: #f5b041;
      margin: 2rem 0 1rem;
    }
    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: center;
      margin-bottom: 2rem;
    }
    .filters button, .filters select, .filters input {
      background: #222;
      color: #f5b041;
      font-weight: bold;
      border: none;
      border-radius: 6px;
      padding: 0.5rem 1rem;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      padding-bottom: 3rem;
    }
    .poster-tile {
      background: #1c1c1c;
      border-radius: 10px;
      padding: 1rem;
      box-shadow: 0 0 10px #f5b04155;
    }
    .poster-info h3 {
      margin: 0 0 0.5rem;
    }
    .tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }
    .tag {
      background: #f5b041;
      color: #111;
      padding: 0.2rem 0.6rem;
      border-radius: 4px;
      font-size: 0.8rem;
    }
    .top-btn, .home-btn {
      position: fixed;
      z-index: 99;
      right: 20px;
      padding: 0.7rem 1.2rem;
      font-weight: bold;
      border: none;
      border-radius: 50px;
      background-color: #f5b041;
      color: #111;
      cursor: pointer;
      transition: opacity 0.3s ease;
    }
    .top-btn {
      bottom: 80px;
      display: none;
    }
    .home-btn {
      bottom: 20px;
    }
  </style>
</head>
<body>

  <h1>üáÆüá≥ Hindi Series Vault</h1>

  <div class="filters">
    <button onclick="filterByGenre('All')">All</button>
    <button onclick="filterByGenre('Crime')">Crime</button>
    <button onclick="filterByGenre('Drama')">Drama</button>
    <button onclick="filterByGenre('Comedy')">Comedy</button>
    <button onclick="filterByGenre('Thriller')">Thriller</button>
    <input type="text" placeholder="Search..." oninput="searchTitles(this.value)">
    <select onchange="sortBy(this.value)">
      <option value="">Sort by‚Ä¶</option>
      <option value="popularity">Popularity</option>
      <option value="year">Year</option>
      <option value="titleAsc">A‚ÄìZ</option>
      <option value="titleDesc">Z‚ÄìA</option>
    </select>
  </div>

  <div id="hindiGrid" class="grid"></div>

  <!-- JS: Recommendations -->
  <script src="./hindirecommendations.js"></script>

  <!-- JS: Display Logic -->
  <script>
    let currentHindiList = [];

    function display(list) {
      const grid = document.getElementById("hindiGrid");
      grid.innerHTML = list.map(show => `
        <div class="poster-tile">
          <div class="poster-info">
            <h3>${show.ref}. ${show.title}</h3>
            <div class="tags">
              <span class="tag">${show.platform}</span>
              <span class="tag">${show.genre}</span>
              <span class="tag">üìÖ ${show.year}</span>
              <span class="tag">üî• ${show.popularity}%</span>
            </div>
            <p style="font-size: 0.85rem; margin-top: 0.5rem;">
              Seasons: ${show.seasons}, Episodes: ${show.episodes}, Runtime: ${show.runtime}
            </p>
          </div>
        </div>
      `).join("");
    }

    function filterByGenre(genre) {
      currentHindiList = genre === "All"
        ? [...recommendedHindiSeries]
        : recommendedHindiSeries.filter(s =>
            s.genre.toLowerCase().includes(genre.toLowerCase())
          );
      display(currentHindiList);
    }

    function searchTitles(query) {
      currentHindiList = recommendedHindiSeries.filter(s =>
        s.title.toLowerCase().includes(query.toLowerCase())
      );
      display(currentHindiList);
    }

    function sortBy(type) {
      const sorted = [...currentHindiList];
      switch (type) {
        case "popularity":
          sorted.sort((a, b) => b.popularity - a.popularity); break;
        case "year":
          sorted.sort((a, b) => b.year - a.year); break;
        case "titleAsc":
          sorted.sort((a, b) => a.title.localeCompare(b.title)); break;
        case "titleDesc":
          sorted.sort((a, b) => b.title.localeCompare(a.title)); break;
      }
      display(sorted);
    }

    window.onload = () => {
      currentHindiList = [...recommendedHindiSeries];
      display(currentHindiList);
      console.log("üìò Hindi Vault Loaded:", recommendedHindiSeries.length, "entries");
    };

    // Go to top button logic
    window.onscroll = function () {
      document.getElementById("topBtn").style.display =
        document.body.scrollTop > 400 || document.documentElement.scrollTop > 400
          ? "block" : "none";
    };
    function scrollTopSmooth() {
      window.scrollTo({ top: 0, behavior: "smooth" });
    }
    function goHome() {
      window.location.href = "index.html"; // üëà Edit this if your homepage is named differently
    }
  </script>

  <button onclick="scrollTopSmooth()" id="topBtn" class="top-btn">‚¨Ü Top</button>
  <button onclick="goHome()" class="home-btn">üè† Home</button>

</body>
</html>