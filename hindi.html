<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Hindi Series Vault</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="A comprehensive, interactive, and modern list of popular Hindi web series with detailed information.">

  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="vault-theme.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <script defer src="hindirecommendations.js"></script>

  <style>
    /*
      ======================================================
      CUSTOM STYLES FOR HINDI SERIES PAGE (Modern & Interactive)
      These styles are specific to hindi.html and enhance it.
      ======================================================
    */

    body {
      font-family: 'Poppins', sans-serif; /* Use Poppins for a modern feel */
      padding: 30px 20px; /* More generous padding */
      background: linear-gradient(to right, #eceff1, #cfd8dc); /* Subtle gradient background */
      color: #37474f; /* Darker text for better contrast */
      line-height: 1.7;
      min-height: 100vh;
      box-sizing: border-box;
      /* Adjust body padding-bottom to accommodate stacked buttons */
      padding-bottom: 150px; /* Increased space for stacked buttons + footer */
    }

    h1 {
      text-align: center;
      color: #2196f3; /* Bright blue for heading */
      margin-bottom: 45px;
      font-size: 2.8em; /* Larger, bolder heading */
      letter-spacing: 1.2px;
      padding-bottom: 15px;
      border-bottom: 4px solid #bbdefb; /* Soft blue underline */
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
      font-weight: 700;
    }

    /* Filters Section - Keep existing styles from your style.css or vault-theme.css */
    /* Ensure .filters, .filters select, .filters input, .filters button styles from your external CSS apply */

    /* Grid Container - Styles from your external CSS are expected */
    .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 25px; /* More space between grid items */
        max-width: 1200px; /* Limit overall grid width */
        margin: 0 auto;
        padding: 0 10px;
    }

    /* Poster Tile (Individual Series Card) */
    .poster-tile {
        background-color: #ffffff;
        border: 1px solid #e0e0e0;
        border-radius: 12px;
        box-shadow: 0 6px 15px rgba(0,0,0,0.12);
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        overflow: hidden;
        display: flex; /* Use flex for internal layout */
        flex-direction: column;
        position: relative;
    }

    .poster-tile:hover {
        border-color: #2196f3;
        transform: translateY(-8px);
        box-shadow: 0 12px 25px rgba(0,0,0,0.2);
    }

    .poster-info {
        padding: 20px;
        flex-grow: 1; /* Allows info section to grow */
    }

    .poster-info h3 {
        font-size: 1.6em; /* Slightly smaller for card title */
        color: #3f51b5;
        margin-top: 0;
        margin-bottom: 10px;
        font-weight: 700;
        line-height: 1.2;
    }

    /* Tags within cards */
    .tags {
        margin-bottom: 10px;
        display: flex;
        flex-wrap: wrap;
        gap: 8px; /* Space between tags */
    }

    .tag {
        background-color: #e0f2f7; /* Light blue tag background */
        color: #0288d1; /* Darker blue tag text */
        padding: 4px 10px;
        border-radius: 5px;
        font-size: 0.8em;
        font-weight: 500;
    }

    /* Specific style for Must-Watch badge - aligned with screenshot */
    .must-watch-badge {
        background-color: #4CAF50; /* Green */
        color: white;
        padding: 4px 10px;
        border-radius: 5px; /* Matches screenshot style */
        font-size: 0.75rem;
        font-weight: bold;
        margin-left: 8px;
        vertical-align: middle;
        display: inline-block;
    }

    .key-details-summary {
        font-size: 0.9rem;
        color: #546e7a;
        margin: 0.5rem 0 1rem;
    }

    /* Toggle Button for Description */
    .toggle-description-btn {
      background-color: #03a9f4; /* Light blue button */
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 0.95em;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      font-weight: 600;
      width: 100%; /* Full width button */
      margin-top: 15px; /* Space above button */
    }

    .toggle-description-btn:hover {
      background-color: #0288d1; /* Darker blue on hover */
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.25);
    }

    /* Description Content - Hidden by Default */
    .full-description-content {
      max-height: 0; /* Initially collapsed */
      overflow: hidden; /* Hide overflowing content */
      opacity: 0; /* Make invisible */
      transition: max-height 0.6s ease-out, opacity 0.5s ease-out, padding 0.5s ease-out, border-top 0.5s ease-out, margin-top 0.5s ease-out; /* Smooth transition */
      color: #455a64;
      font-style: italic;
      line-height: 1.5;
    }

    /* Description Content - When Expanded */
    .full-description-content.expanded {
      max-height: 300px; /* Sufficiently large to show all descriptions without scroll */
      opacity: 1;
      padding-top: 20px; /* Space when expanded */
      border-top: 1px dashed #9e9e9e; /* Separator when expanded */
      margin-top: 20px;
    }

    /* Stacked Buttons (Home and Scroll to Top) */
    .home-btn {
        bottom: 80px; /* Position above scroll-to-top button */
        right: 20px;
        position: fixed;
        background-color: #673ab7; /* Purple for home button */
        color: white;
        border: none;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        font-size: 1.8em; /* Larger icon */
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
        z-index: 1000; /* Ensure it's on top */
    }

    .home-btn:hover {
        background-color: #512da8;
        transform: translateY(-3px) scale(1.08);
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    #topBtn.top-btn { /* Specificity for the ID */
        bottom: 20px; /* Original position for scroll-to-top */
        right: 20px;
        position: fixed;
        background-color: #ff5722; /* Vibrant orange for scroll button */
        color: white;
        border: none;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        font-size: 1.8em; /* Larger icon */
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
        z-index: 1000;
    }

    #topBtn.top-btn:hover {
        background-color: #e64a19;
        transform: translateY(-3px) scale(1.08);
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    /* Footer - Assuming styles from vault-theme.css */
    /* If footer needs specific styling here, add it. */

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .poster-tile {
        padding: 15px;
      }
      .poster-info h3 {
        font-size: 1.4em;
      }
      .filters {
        flex-direction: column;
        align-items: stretch;
      }
      .filters select,
      .filters input,
      .filters button {
        width: 100%;
        box-sizing: border-box;
      }
    }

    @media (max-width: 480px) {
      h1 {
        font-size: 2em;
        margin-bottom: 30px;
      }
      .poster-info h3 {
        font-size: 1.2em;
      }
      .must-watch-badge {
        font-size: 0.7em;
        padding: 3px 8px;
      }
      .key-details-summary {
        font-size: 0.85rem;
      }
      .toggle-description-btn {
        padding: 8px 12px;
        font-size: 0.85em;
      }
    }
  </style>
</head>
<body>

  <h1>Hindi Series Vault</h1>

  <div class="filters">
    <select onchange="filterByGenre(this.value)">
      <option value="All">All Genres</option>
      <option value="Crime">Crime</option>
      <option value="Thriller">Thriller</option>
      <option value="Drama">Drama</option>
      <option value="Comedy">Comedy</option>
      <option value="Action">Action</option>
      <option value="Spy">Spy</option>
      <option value="Mythological">Mythological</option>
      <option value="Historical">Historical</option>
      <option value="Political">Political</option>
      <option value="Military">Military</option>
      <option value="Slice of Life">Slice of Life</option>
      <option value="Sci-Fi">Sci-Fi</option>
      <option value="Legal">Legal</option>
      <option value="Teen">Teen</option>
      <option value="Period">Period</option>
      <option value="Financial">Financial</option>
      <option value="True Crime">True Crime</option>
      <option value="Military Biopic">Military Biopic</option>
      <option value="Newsroom">Newsroom</option>
      <option value="Medical">Medical</option>
      <option value="Eco-Crime">Eco-Crime</option>
    </select>

    <button onclick="filterMustWatch()">üéØ Must Watch (IMDb 9+)</button>

    <input type="text" placeholder="Search title..." oninput="searchTitles(this.value)">
    <select onchange="sortBy(this.value)">
      <option value="">Sort by‚Ä¶</option>
      <option value="popularity">Popularity</option>
      <option value="year">Year</option>
      <option value="titleAsc">A‚ÄìZ</option>
      <option value="titleDesc">Z‚ÄìA</option>
      <option value="imdbRating">IMDb Rating</option>
    </select>
  </div>

  <div id="hindiGrid" class="grid"></div>

  <button onclick="goHome()" class="home-btn">üè†</button> <button onclick="scrollTopSmooth()" id="topBtn" class="top-btn">‚¨ÜÔ∏è</button> <footer class="main-footer">
    <p>&copy; <span id="currentYear"></span> Krish Vault. All rights reserved.</p>
    <p>Dive into cinematic journeys!</p>
  </footer>


  <script>
    let currentList = []; // This will hold the currently filtered/sorted list of shows

    // Function to display series in the grid
    function display(list) {
      const grid = document.getElementById("hindiGrid");
      if (!list || !list.length) {
        grid.innerHTML = "<p style='text-align:center; color: #757575; padding: 20px; border: 1px dashed #bdbdbd; border-radius: 8px; margin-top: 30px;'>No shows to display. Please adjust your filters or ensure `hindirecommendations.js` is correctly linked with data.</p>";
        return;
      }

      // Map over the list to create HTML for each show
      grid.innerHTML = list.map((show, i) => `
        <div class="poster-tile">
          <div class="poster-info">
            <h3>
              ${show.title}
              ${show.imdbRating >= 9 ? '<span class="must-watch-badge">Must-Watch</span>' : ''}
            </h3>
            <div class="tags">
              <span class="tag">${show.platform}</span>
              <span class="tag" data-genre="${show.genre}">${show.genre}</span>
              <span class="tag">üìÖ ${show.year}</span>
              <span class="tag">üî• ${show.popularity}%</span>
              <span class="tag">‚≠ê ${show.imdbRating}</span>
            </div>
            <p class="key-details-summary">
              Seasons: ${show.seasons}, Episodes: ${show.episodes}, Runtime: ${show.runtime}
            </p>
            <button class="toggle-description-btn" data-show-id="${show.id}">View Details</button>
            <div class="full-description-content" id="desc-${show.id}">
              <p>${show.description}</p>
            </div>
          </div>
        </div>
      `).join("");

      // After rendering, attach event listeners to each "View Details" button
      document.querySelectorAll('.toggle-description-btn').forEach(button => {
        button.addEventListener('click', (event) => {
          const showId = event.target.dataset.showId;
          const descriptionDiv = document.getElementById(`desc-${showId}`);
          
          descriptionDiv.classList.toggle('expanded'); // Toggle CSS class
          if (descriptionDiv.classList.contains('expanded')) {
            event.target.textContent = 'Hide Details';
          } else {
            event.target.textContent = 'View Details';
          }
        });
      });
    }

    // --- Filter and Sort Functions (from your original HTML) ---

    function filterByGenre(selectedGenre) {
      if (selectedGenre === "All") {
        currentList = [...hindiWatchlist];
        // document.body.dataset.theme = ""; // You can add theme changes based on genre if you like
      } else {
        currentList = hindiWatchlist.filter(s =>
          s.genre.toLowerCase().includes(selectedGenre.toLowerCase())
        );
        // document.body.dataset.theme = selectedGenre.toLowerCase().replace(/\s+/g, "-");
      }
      display(currentList);
    }

    function filterMustWatch() {
      currentList = hindiWatchlist.filter(s => s.imdbRating >= 9);
      display(currentList);
    }

    function searchTitles(query) {
      const searchLower = query.toLowerCase();
      currentList = hindiWatchlist.filter(s =>
        s.title.toLowerCase().includes(searchLower) ||
        s.description.toLowerCase().includes(searchLower) ||
        s.platform.toLowerCase().includes(searchLower) ||
        s.genre.toLowerCase().includes(searchLower)
      );
      display(currentList);
    }

    function sortBy(type) {
      let sorted = [...currentList]; // Always sort the current filtered list
      switch (type) {
        case "popularity":
          sorted.sort((a, b) => b.popularity - a.popularity); break;
        case "year":
          sorted.sort((a, b) => b.year - a.year); break;
        case "titleAsc":
          sorted.sort((a, b) => a.title.localeCompare(b.title)); break;
        case "titleDesc":
          sorted.sort((a, b) => b.title.localeCompare(a.title)); break;
        case "imdbRating": /* Added sort by IMDb Rating */
          sorted.sort((a, b) => b.imdbRating - a.imdbRating); break;
      }
      display(sorted);
    }

    // --- Initial Load ---
    window.onload = () => {
      // Check if hindiWatchlist is defined and populated from hindirecommendations.js
      if (typeof hindiWatchlist !== 'undefined' && Array.isArray(hindiWatchlist) && hindiWatchlist.length > 0) {
        currentList = [...hindiWatchlist]; // Initialize currentList with all data
        display(currentList); // Display all data initially
        console.log("‚úÖ Hindi Vault Loaded:", currentList.length, "shows.");
      } else {
        console.error("‚ùå Error: hindiWatchlist is not defined or is empty. Check hindirecommendations.js.");
        display([]); // Show empty state message
      }
      // Set the current year in the footer
      document.getElementById("currentYear").textContent = new Date().getFullYear();
    };

    // --- Scroll to Top Button Functionality ---
    window.onscroll = () => {
      document.getElementById("topBtn").style.display =
        window.scrollY > 400 ? "flex" : "none"; /* Use 'flex' for centered icon */
      document.querySelector('.home-btn').style.display =
        window.scrollY > 400 ? "flex" : "none"; /* Also show/hide home button */
    };

    function scrollTopSmooth() {
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    // --- Home Button Functionality ---
    function goHome() {
      window.location.href = "collections.html"; // Navigate to collections.html
    }
  </script>

</body>
</html>
