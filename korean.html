<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Krish's Hindi Vault</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="vault-theme.css" />
  
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f8f9fa;
      color: #333;
      margin: 0;
      padding: 0;
      line-height: 1.6;
    }
    header {
      padding: 2em;
      background: #ffeaea;
      color: #333;
      text-align: center;
      border-bottom: 3px solid #ff99a4;
    }
    header h1 {
      font-size: 2.5em;
      margin: 0.2em 0;
      color: #d90429;
    }
    header nav {
      margin-top: 1em;
    }
    header nav a {
      color: #d90429;
      text-decoration: none;
      font-weight: bold;
      padding: 0.5em 1em;
      border: 2px solid #d90429;
      border-radius: 20px;
      transition: background-color 0.3s, color 0.3s;
    }
    header nav a:hover {
      background-color: #d90429;
      color: #fff;
    }
    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75em;
      justify-content: center;
      align-items: center;
      margin: 1.5em auto;
      padding: 0 1em;
      max-width: 900px;
    }
    .filters input[type="text"],
    .filters select,
    .filters button {
      padding: 0.75em;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1em;
      transition: border-color 0.3s, background-color 0.3s, color 0.3s;
      background: #fff;
      color: #333;
    }
    .filters button {
      cursor: pointer;
      border: 1px solid #d90429;
      color: #d90429;
      background-color: #ffeaea;
    }
    .filters button:hover {
      background-color: #d90429;
      color: #fff;
    }
    .filters input[type="text"]:focus,
    .filters select:focus {
      border-color: #d90429;
      outline: none;
    }
    .vault-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1.5em;
      padding: 2em;
      max-width: 1200px;
      margin: 0 auto;
    }
    .poster-tile {
      border: 1px solid #eee;
      padding: 1.5em;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .poster-tile:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
    }
    .poster-tile h3 {
      color: #d90429;
      margin-top: 0;
      font-size: 1.5em;
    }
    .poster-tile p {
      margin: 0.5em 0;
    }
    .poster-tile .tags .tag {
      background-color: #ffe8e8;
      color: #d90429;
      padding: 0.2em 0.6em;
      border-radius: 12px;
      font-size: 0.85em;
      font-weight: bold;
      margin-right: 0.3em;
      display: inline-block;
    }
    .must-watch {
      border: 3px solid gold;
      background-color: #fffbe6;
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
    }
    .top-btn,
    .home-btn {
      position: fixed;
      padding: 12px 16px;
      background-color: #d90429;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      opacity: 0.75;
      z-index: 1000;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: opacity 0.3s, background-color 0.3s;
    }
    .top-btn:hover,
    .home-btn:hover {
      opacity: 1;
      background-color: #b30322;
    }
    .top-btn {
      bottom: 24px;
      right: 24px;
    }
    .home-btn {
      bottom: 24px;
      right: 90px;
    }
    /* Genre themes for a more Korean aesthetic */
    body[data-theme="crime"] .poster-tile .tag[data-genre="Crime"] { background-color: #d8e2dc; color: #4a4e69; }
    body[data-theme="thriller"] .poster-tile .tag[data-genre="Thriller"] { background-color: #f7ede2; color: #a53860; }
    body[data-theme="drama"] .poster-tile .tag[data-genre="Drama"] { background-color: #f5c4b8; color: #432818; }
    body[data-theme="comedy"] .poster-tile .tag[data-genre="Comedy"] { background-color: #e5e5e5; color: #2a9d8f; }
    body[data-theme="action"] .poster-tile .tag[data-genre="Action"] { background-color: #ffc8dd; color: #c81d25; }
    body[data-theme="spy"] .poster-tile .tag[data-genre="Spy"] { background-color: #b8c8d8; color: #1f3a5f; }
    body[data-theme="mythological"] .poster-tile .tag[data-genre="Mythological"] { background-color: #c9e4de; color: #1b4965; }
    body[data-theme="historical"] .poster-tile .tag[data-genre="Historical"] { background-color: #fae1dd; color: #8e7c68; }
    body[data-theme="political"] .poster-tile .tag[data-genre="Political"] { background-color: #a7bed3; color: #355070; }
    body[data-theme="military"] .poster-tile .tag[data-genre="Military"] { background-color: #cfe1b9; color: #386641; }
    body[data-theme="slice-of-life"] .poster-tile .tag[data-genre="Slice of Life"] { background-color: #fcebeb; color: #e56b6f; }
  </style>
</head>
<body class="hindi-vault">

  <header>
    <h1>üáÆüá≥ Krish's Hindi Vault</h1>
    <nav>
      <a href="collections.html">üè† Back to Home</a>
    </nav>
  </header>

  <div class="filters">
    <select id="genreFilter">
      <option value="">All Genres</option>
      <option value="Crime">Crime</option>
      <option value="Thriller">Thriller</option>
      <option value="Drama">Drama</option>
      <option value="Comedy">Comedy</option>
      <option value="Action">Action</option>
      <option value="Spy">Spy</option>
      <option value="Mythological">Mythological</option>
      <option value="Historical">Historical</option>
      <option value="Political">Political</option>
      <option value="Military">Military</option>
      <option value="Slice of Life">Slice of Life</option>
    </select>
    <button id="mustWatchFilter">üéØ Must Watch (IMDb 9+)</button>
    <input type="text" id="searchInput" placeholder="Search title..." />
    <select id="sortFilter">
      <option value="">Sort by‚Ä¶</option>
      <option value="popularity">Popularity</option>
      <option value="year">Year</option>
      <option value="titleAsc">A‚ÄìZ</option>
      <option value="titleDesc">Z‚ÄìA</option>
    </select>
  </div>

  <main>
    <div id="hindiGrid" class="vault-grid"></div>
  </main>
  
  <button id="topBtn" class="top-btn">‚¨Ü Top</button>
  <button onclick="goHome()" class="home-btn">üè† Home</button>

  <script src="hindirecommendations.js"></script>
  <script>
    let currentList = [];
    const container = document.getElementById("hindiGrid");
    const genreFilter = document.getElementById("genreFilter");
    const mustWatchButton = document.getElementById("mustWatchFilter");
    const searchInput = document.getElementById("searchInput");
    const sortFilter = document.getElementById("sortFilter");

    function display(list) {
      if (!list || !list.length) {
        container.innerHTML = "<p style='text-align:center;'>No shows to display. Check filters or data file.</p>";
        return;
      }
      container.innerHTML = list.map((show, i) => `
        <div class="poster-tile ${show.imdbRating >= 9 ? 'must-watch' : ''}">
          <div class="poster-info">
            <h3>${i + 1}. ${show.title}</h3>
            <div class="tags">
              <span class="tag">${show.platform}</span>
              <span class="tag" data-genre="${show.genre}">${show.genre}</span>
              <span class="tag">üìÖ ${show.year}</span>
              <span class="tag">üî• ${show.popularity}%</span>
              <span class="tag">‚≠ê ${show.imdbRating}</span>
            </div>
            <p style="font-size: 0.85rem; margin-top: 0.5rem;">
              Seasons: ${show.seasons}, Episodes: ${show.episodes}, Runtime: ${show.runtime}
            </p>
            <p style="font-size: 0.8rem; margin-top: 0.5rem; color: #555;">
              ${show.description}
            </p>
          </div>
        </div>
      `).join("");
    }

    function applyFiltersAndSort() {
      let filtered = [...hindiWatchlist];
      const selectedGenre = genreFilter.value;
      const searchQuery = searchInput.value.toLowerCase();
      const sortBy = sortFilter.value;

      if (selectedGenre) {
        filtered = filtered.filter(s => s.genre.toLowerCase() === selectedGenre.toLowerCase());
      }
      if (searchInput.value) {
        filtered = filtered.filter(s => s.title.toLowerCase().includes(searchQuery));
      }
      
      switch (sortBy) {
        case "popularity":
          filtered.sort((a, b) => (b.popularity || 0) - (a.popularity || 0)); break;
        case "year":
          filtered.sort((a, b) => (b.year || 0) - (a.year || 0)); break;
        case "titleAsc":
          filtered.sort((a, b) => (a.title || "").localeCompare(b.title || "")); break;
        case "titleDesc":
          filtered.sort((a, b) => (b.title || "").localeCompare(a.title || "")); break;
      }
      
      currentList = filtered;
      display(currentList);
    }
    
    function filterMustWatch() {
      currentList = hindiWatchlist.filter(s => s.imdbRating >= 9);
      display(currentList);
    }

    function goHome() {
      window.location.href = "collections.html";
    }

    genreFilter.addEventListener("change", () => {
      document.body.dataset.theme = genreFilter.value.toLowerCase().replace(/\s+/g, "-");
      applyFiltersAndSort();
    });
    mustWatchButton.addEventListener("click", filterMustWatch);
    searchInput.addEventListener("input", applyFiltersAndSort);
    sortFilter.addEventListener("change", applyFiltersAndSort);

    window.onload = () => {
      currentList = [...hindiWatchlist];
      display(currentList);
    };

    window.onscroll = () => {
      document.getElementById("topBtn").style.display =
        window.scrollY > 400 ? "block" : "none";
    };
    
    function scrollTopSmooth() {
      window.scrollTo({ top: 0, behavior: "smooth" });
    }
    document.getElementById("topBtn").onclick = scrollTopSmooth;
  </script>

</body>
</html>
