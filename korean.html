<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Krish's Korean Vault</title>
  
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #fcebeb; /* Light pink background for spring theme */
      color: #4a4a4a;
      margin: 0;
      padding: 0;
      line-height: 1.6;
      position: relative;
      overflow-x: hidden;
    }
    header {
      padding: 2.5em;
      background: linear-gradient(to right, #ffc0cb, #ffe4e1); /* Pink gradient */
      color: #fff;
      text-align: center;
      border-bottom: 5px solid #ff69b4; /* Hot pink border */
      position: relative;
    }
    header h1 {
      font-size: 3em;
      margin: 0.2em 0;
      color: #8b0000; /* Dark red for contrast */
      text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.5);
    }
    header nav {
      margin-top: 1.5em;
    }
    header nav a {
      color: #d90429;
      text-decoration: none;
      font-weight: bold;
      padding: 0.5em 1.5em;
      border: 2px solid #d90429;
      border-radius: 25px;
      transition: background-color 0.4s, color 0.4s, transform 0.4s;
      background-color: rgba(255, 255, 255, 0.7);
    }
    header nav a:hover {
      background-color: #d90429;
      color: #fff;
      transform: scale(1.1);
    }
    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 1em;
      justify-content: center;
      align-items: center;
      margin: 2em auto;
      padding: 0 1em;
      max-width: 1000px;
    }
    .filters input[type="text"],
    .filters select,
    .filters button {
      padding: 0.9em;
      border: 1px solid #ff69b4;
      border-radius: 8px;
      font-size: 1em;
      transition: all 0.3s ease-in-out;
      background: #fff;
      color: #333;
      flex-shrink: 0;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    .filters button {
      cursor: pointer;
      background-color: #ff69b4;
      color: #fff;
      font-weight: bold;
    }
    .filters button:hover {
      background-color: #d90429;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }
    .filters input[type="text"]:focus,
    .filters select:focus {
      border-color: #d90429;
      box-shadow: 0 0 8px rgba(217, 4, 41, 0.3);
      outline: none;
    }
    .vault-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 2em;
      padding: 2em;
      max-width: 1200px;
      margin: 0 auto;
    }
    .vault-card {
      border: 1px solid #ffb6c1; /* Light pink border */
      padding: 2em;
      background: #fff;
      border-radius: 15px;
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
      transition: transform 0.4s, box-shadow 0.4s, background-color 0.4s;
    }
    .vault-card:hover {
      transform: scale(1.03);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
      background-color: #fff0f5; /* Lighter pink on hover */
    }
    .vault-card h2 {
      color: #8b0000;
      margin-top: 0;
      font-size: 1.6em;
      border-bottom: 2px solid #ffe4e1;
      padding-bottom: 0.5em;
    }
    .vault-card p {
      margin: 0.5em 0;
    }
    .vault-card .tags {
      margin: 1em 0;
    }
    .vault-card .tags .tag {
      background-color: #ffd1dc; /* Soft pink tag */
      color: #d90429;
      padding: 0.4em 0.8em;
      border-radius: 15px;
      font-size: 0.85em;
      font-weight: bold;
      margin-right: 0.5em;
      display: inline-block;
      margin-bottom: 0.5em;
    }
    /* MUST WATCH - Best Design */
    .must-watch {
      position: relative;
      border: none;
      background: #2b0c16; /* Dark background for star glow */
      color: #fff;
      box-shadow: 
        0 0 10px #ffc107,
        0 0 20px #ffeb3b,
        0 0 30px #ffd700,
        0 0 40px #ffc107;
      animation: pulsate 1.5s infinite alternate;
    }
    .must-watch h2 {
      color: #fff;
      text-shadow: 0 0 8px #ffd700;
      border-bottom-color: #ffeb3b;
    }
    .must-watch .tags .tag {
      background-color: #ffeb3b;
      color: #2b0c16;
    }
    @keyframes pulsate {
      from { box-shadow: 0 0 10px #ffc107, 0 0 20px #ffeb3b; }
      to { box-shadow: 0 0 20px #ffc107, 0 0 40px #ffeb3b; }
    }
    /* Star styling */
    .must-watch-star {
        font-size: 1.5em;
        color: #ffeb3b;
        margin-right: 0.5em;
        animation: star-spin 2s linear infinite;
        display: inline-block;
        transform-origin: center;
    }
    @keyframes star-spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    .top-btn,
    .home-btn {
      position: fixed;
      padding: 12px 16px;
      background-color: #ff69b4; /* Hot pink */
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      opacity: 0.85;
      z-index: 1000;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: opacity 0.3s, background-color 0.3s, transform 0.3s;
    }
    .top-btn:hover,
    .home-btn:hover {
      opacity: 1;
      background-color: #d90429;
      transform: scale(1.05);
    }
    .top-btn {
      bottom: 24px;
      right: 24px;
    }
    .home-btn {
      bottom: 24px;
      right: 90px;
    }
    /* Snowfall effect */
    .snowflake {
      color: #fff;
      font-size: 1.5em;
      font-family: Arial, sans-serif;
      text-shadow: 0 0 5px #000;
      animation: snowfall 10s linear infinite;
      position: fixed;
      top: -100px;
      z-index: -1;
    }
    @keyframes snowfall {
      0% { top: -100px; opacity: 0; }
      20% { opacity: 1; }
      100% { top: 100vh; opacity: 0; }
    }
  </style>
</head>
<body>
  <header>
    <h1>üá∞üá∑ Krish's Korean Vault</h1>
    <nav>
      <a href="collections.html">üè† Back to Home</a>
    </nav>
  </header>

  <div class="filters">
    <input type="text" id="searchInput" placeholder="Search by title..." />
    <select id="genreFilter"><option value="">All Genres</option></select>
    <select id="platformFilter"><option value="">All Platforms</option></select>
    <select id="sortFilter">
      <option value="">Sort By</option>
      <option value="titleAsc">A-Z</option>
      <option value="titleDesc">Z-A</option>
    </select>
    <button id="mustWatchFilter">üéØ Must Watch</button>
  </div>

  <main>
    <div id="vaultContainer" class="vault-grid"></div>
  </main>

  <button id="topBtn" class="top-btn">‚¨Ü Top</button>
  <button onclick="goHome()" class="home-btn">üè† Home</button>
  
  <div class="snowflake">üå∏</div>
  <div class="snowflake">üå∏</div>
  <div class="snowflake">üå∏</div>
  <div class="snowflake">üå∏</div>
  <div class="snowflake">üå∏</div>
  <div class="snowflake">üå∏</div>
  <div class="snowflake">üå∏</div>
  <div class="snowflake">üå∏</div>
  <div class="snowflake">üå∏</div>
  <div class="snowflake">üå∏</div>
  
  <script src="koreanrecommendations.js"></script>
  <script>
    const koreanWatchlist = [
  {
    title: 'Business Proposal',
    description: 'A romantic comedy where a young woman goes on a blind date in place of her friend to scare away the suitor, but ends up discovering he is the CEO of her company and he is determined to marry her. Hilarity ensues as she attempts to keep her identity a secret from her boss.',
    genre: ['Romantic Comedy'],
    platform: 'Netflix',
    mustwatch: true,
  },
  {
    title: 'Boys Over Flowers',
    description: 'The iconic high-school romantic drama about a working-class girl who gets a scholarship to an elite school and stands up to the F4, a group of four rich, handsome, and arrogant bullies. She catches the attention of the leader, Gu Jun-pyo, who begins to fall for her, leading to a classic love triangle.',
    genre: ['Romantic Drama'],
    platform: 'Netflix',
    mustwatch: true,
  },
  {
    title: 'Playful Kiss',
    description: 'Based on the Japanese manga *Itazura Na Kiss*, this romantic comedy follows a clumsy and unpopular girl, Oh Ha-ni, who has a crush on the smart and perfect Baek Seung-jo. When an earthquake destroys her house, she and her father move in with Seung-jo\'s family, leading to an unexpected cohabitation romance.',
    genre: ['Romantic Comedy'],
    platform: ['Viki', 'YouTube'],
    mustwatch: false,
  },
  {
    title: 'The Legend of the Blue Sea',
    description: 'A fantasy romance inspired by a classic Joseon legend. The story centers on the love story of a mermaid who travels across the ocean to find her reincarnated love, a con-artist in modern-day Seoul. The drama intertwines their past lives in the Joseon era with their present-day romance.',
    genre: ['Romantic Comedy', 'Fantasy', 'Drama'],
    platform: ['Netflix', 'Viki'],
    mustwatch: false,
  },
];
    let currentList = [];
    const container = document.getElementById("vaultContainer");
    const genreFilter = document.getElementById("genreFilter");
    const platformFilter = document.getElementById("platformFilter");
    const mustWatchButton = document.getElementById("mustWatchFilter");
    const searchInput = document.getElementById("searchInput");
    const sortFilter = document.getElementById("sortFilter");

    function renderVault(data) {
      container.innerHTML = "";
      if (!data || !data.length) {
        container.innerHTML = "<p style='text-align:center;'>No shows to display. Check filters or data file.</p>";
        return;
      }
      data.forEach((entry, index) => {
        const card = document.createElement("div");
        card.className = "vault-card";

        if (entry.mustwatch) {
          card.classList.add("must-watch");
        }

        const genreTags = Array.isArray(entry.genre)
          ? entry.genre.map(g => `<span class="tag">${g.trim()}</span>`).join(" ")
          : entry.genre.split("/").map(g => `<span class="tag">${g.trim()}</span>`).join(" ");

        const platformTags = Array.isArray(entry.platform)
          ? entry.platform.map(p => p.trim()).join(" / ")
          : entry.platform;

        const title = entry.mustwatch 
            ? `<span class="must-watch-star">‚≠ê</span> ${index + 1}. ${entry.title}`
            : `${index + 1}. ${entry.title}`;

        card.innerHTML = `
          <h2>${title}</h2>
          <div class="tags">
            <span class="tag">Genre:</span> ${genreTags}
          </div>
          <p><strong>Platform:</strong> ${platformTags}</p>
          <p class="description">${entry.description}</p>
        `;
        container.appendChild(card);
      });
    }

    function populateFilters(data) {
      const genres = [...new Set(data.flatMap(d => d.genre).flat())].sort();
      const platforms = [...new Set(data.flatMap(d => d.platform).flat())].sort();

      genres.forEach(g => {
        const opt = document.createElement("option");
        opt.value = g;
        opt.textContent = g;
        genreFilter.appendChild(opt);
      });

      platforms.forEach(p => {
        const opt = document.createElement("option");
        opt.value = p;
        opt.textContent = p;
        platformFilter.appendChild(opt);
      });
    }

    function applyFilters() {
      let filtered = [...koreanWatchlist];
      const genre = genreFilter.value;
      const platform = platformFilter.value;
      const search = searchInput.value.toLowerCase();
      const sortBy = sortFilter.value;

      if (genre) filtered = filtered.filter(d => d.genre.includes(genre));
      if (platform) filtered = filtered.filter(d => d.platform.includes(platform));
      if (search) filtered = filtered.filter(d => d.title.toLowerCase().includes(search));

      if (sortBy === "titleAsc") {
        filtered.sort((a, b) => (a.title || "").localeCompare(b.title || ""));
      } else if (sortBy === "titleDesc") {
        filtered.sort((a, b) => (b.title || "").localeCompare(a.title || ""));
      }

      currentList = filtered;
      renderVault(currentList);
    }
    
    function filterMustWatch() {
      currentList = koreanWatchlist.filter(s => s.mustwatch);
      renderVault(currentList);
    }

    function goHome() {
      window.location.href = "collections.html";
    }

    [genreFilter, platformFilter, searchInput, sortFilter].forEach(el => el.addEventListener("input", applyFilters));
    mustWatchButton.addEventListener("click", filterMustWatch);

    window.onload = () => {
      populateFilters(koreanWatchlist);
      currentList = [...koreanWatchlist];
      renderVault(currentList);
    };

    window.onscroll = () => {
      document.getElementById("topBtn").style.display =
        window.scrollY > 400 ? "block" : "none";
    };
    
    function scrollTopSmooth() {
      window.scrollTo({ top: 0, behavior: "smooth" });
    }
    document.getElementById("topBtn").onclick = scrollTopSmooth;

    // Snowfall effect logic
    document.addEventListener("DOMContentLoaded", () => {
      const snowflakes = document.querySelectorAll(".snowflake");
      snowflakes.forEach((snowflake, index) => {
        const size = Math.random() * 2 + 1; // 1-3
        const position = Math.random() * 100; // 0-100%
        const delay = Math.random() * 10; // 0-10s
        const duration = Math.random() * 20 + 10; // 10-30s

        snowflake.style.fontSize = `${size}em`;
        snowflake.style.left = `${position}vw`;
        snowflake.style.animationDelay = `${delay}s`;
        snowflake.style.animationDuration = `${duration}s`;
      });
    });
  </script>
</body>
</html>
